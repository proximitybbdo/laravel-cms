/*!
 * Dashmix - v1.4.0
 * @author pixelcave - https://pixelcave.com
 * Copyright (c) 2018
 */
!function(e){var t={};function a(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=1)}([function(e,t){},function(e,t,a){e.exports=a(2)},function(e,t,a){"use strict";a.r(t);a(0);function o(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,a){t&&o(e.prototype,t),a&&o(e,a)}(e,null,[{key:"updateTheme",value:function(e,t){"default"===t?e.length&&e.remove():e.length?e.attr("href",t):jQuery("#css-main").after('<link rel="stylesheet" id="css-theme" href="'+t+'">')}},{key:"getWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}]),e}();function l(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i,r=!1,s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,a){t&&l(e.prototype,t),a&&l(e,a)}(e,null,[{key:"run",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={"core-bootstrap-tooltip":function(){return t.coreBootstrapTooltip()},"core-bootstrap-popover":function(){return t.coreBootstrapPopover()},"core-bootstrap-tabs":function(){return t.coreBootstrapTabs()},"core-bootstrap-custom-file-input":function(){return t.coreBootstrapCustomFileInput()},"core-toggle-class":function(){return t.coreToggleClass()},"core-scroll-to":function(){return t.coreScrollTo()},"core-year-copy":function(){return t.coreYearCopy()},"core-appear":function(){return t.coreAppear()},"core-ripple":function(){return t.coreRipple()},print:function(){return t.print()},"table-tools-sections":function(){return t.tableToolsSections()},"table-tools-checkable":function(){return t.tableToolsCheckable()},"magnific-popup":function(){return t.magnific()},summernote:function(){return t.summernote()},ckeditor:function(){return t.ckeditor()},simplemde:function(){return t.simpleMDE()},slick:function(){return t.slick()},datepicker:function(){return t.datepicker()},colorpicker:function(){return t.colorpicker()},"masked-inputs":function(){return t.maskedInputs()},select2:function(){return t.select2()},highlightjs:function(){return t.highlightjs()},notify:function(e){return t.notify(e)},"easy-pie-chart":function(){return t.easyPieChart()},maxlength:function(){return t.maxlength()},rangeslider:function(){return t.rangeslider()},sparkline:function(){return t.sparkline()}};if(e instanceof Array)for(var n in e)o[e[n]]&&o[e[n]](a);else o[e]&&o[e](a)}},{key:"coreBootstrapTooltip",value:function(){jQuery('[data-toggle="tooltip"]:not(.js-tooltip-enabled)').add(".js-tooltip:not(.js-tooltip-enabled)").each(function(e,t){var a=jQuery(t);a.addClass("js-tooltip-enabled").tooltip({container:a.data("container")||"body",animation:a.data("animation")||!1})})}},{key:"coreBootstrapPopover",value:function(){jQuery('[data-toggle="popover"]:not(.js-popover-enabled)').add(".js-popover:not(.js-popover-enabled)").each(function(e,t){var a=jQuery(t);a.addClass("js-popover-enabled").popover({container:a.data("container")||"body",animation:a.data("animation")||!1,trigger:a.data("trigger")||"hover focus"})})}},{key:"coreBootstrapTabs",value:function(){jQuery('[data-toggle="tabs"]:not(.js-tabs-enabled)').add(".js-tabs:not(.js-tabs-enabled)").each(function(e,t){jQuery(t).addClass("js-tabs-enabled").find("a").on("click.pixelcave.helpers.core",function(e){e.preventDefault(),jQuery(e.currentTarget).tab("show")})})}},{key:"coreBootstrapCustomFileInput",value:function(){jQuery('[data-toggle="custom-file-input"]:not(.js-custom-file-input-enabled)').each(function(e,t){var a=jQuery(t);a.addClass("js-custom-file-input-enabled").on("change",function(e){var t=e.target.files.length>1?e.target.files.length+" "+(a.data("lang-files")||"Files"):e.target.files[0].name;a.next(".custom-file-label").css("overflow-x","hidden").html(t)})})}},{key:"coreToggleClass",value:function(){jQuery('[data-toggle="class-toggle"]:not(.js-class-toggle-enabled)').add(".js-class-toggle:not(.js-class-toggle-enabled)").on("click.pixelcave.helpers.core",function(e){var t=jQuery(e.currentTarget);t.addClass("js-class-toggle-enabled").blur(),jQuery(t.data("target").toString()).toggleClass(t.data("class").toString())})}},{key:"coreScrollTo",value:function(){jQuery('[data-toggle="scroll-to"]:not(.js-scroll-to-enabled)').on("click.pixelcave.helpers.core",function(e){e.stopPropagation();var t=jQuery("#page-header"),a=jQuery(e.currentTarget),o=a.data("target")||a.attr("href"),n=a.data("speed")||1e3,l=t.length&&jQuery("#page-container").hasClass("page-header-fixed")?t.outerHeight():0;a.addClass("js-scroll-to-enabled"),jQuery("html, body").animate({scrollTop:jQuery(o).offset().top-l},n)})}},{key:"coreYearCopy",value:function(){var e=jQuery('[data-toggle="year-copy"]:not(.js-year-copy-enabled)');if(e.length>0){var t=(new Date).getFullYear(),a=e.html().length>0?e.html():t;e.addClass("js-year-copy-enabled").html(parseInt(a)>=t?t:a+"-"+t.toString().substr(2,2))}}},{key:"coreAppear",value:function(){jQuery('[data-toggle="appear"]:not(.js-appear-enabled)').each(function(e,t){var a=n.getWidth(),o=jQuery(t),l=o.data("class")||"animated fadeIn",i=o.data("offset")||0,r=a<992?0:o.data("timeout")?o.data("timeout"):0;o.addClass("js-appear-enabled").appear(function(){setTimeout(function(){o.removeClass("invisible").addClass(l)},r)},{accY:i})})}},{key:"coreRipple",value:function(){jQuery('[data-toggle="click-ripple"]:not(.js-click-ripple-enabled)').each(function(e,t){var a=jQuery(t);a.addClass("js-click-ripple-enabled").css({overflow:"hidden",position:"relative","z-index":1}).on("click.pixelcave.helpers.core",function(e){var t,o,n,l;0===a.children(".click-ripple").length?a.prepend('<span class="click-ripple"></span>'):a.children(".click-ripple").removeClass("animate"),(t=a.children(".click-ripple")).height()||t.width()||(o=Math.max(a.outerWidth(),a.outerHeight()),t.css({height:o,width:o})),n=e.pageX-a.offset().left-t.width()/2,l=e.pageY-a.offset().top-t.height()/2,t.css({top:l+"px",left:n+"px"}).addClass("animate")})})}},{key:"print",value:function(){var e=jQuery("#page-container"),t=e.prop("class");e.prop("class",""),window.print(),e.prop("class",t)}},{key:"tableToolsSections",value:function(){jQuery(".js-table-sections:not(.js-table-sections-enabled)").each(function(e,t){var a=jQuery(t);a.addClass("js-table-sections-enabled"),jQuery(".js-table-sections-header > tr",a).on("click.pixelcave.helpers",function(e){if(!("checkbox"===e.target.type||"button"===e.target.type||"a"===e.target.tagName.toLowerCase()||jQuery(e.target).parent("a").length||jQuery(e.target).parent("button").length||jQuery(e.target).parent(".custom-control").length||jQuery(e.target).parent("label").length)){var t=jQuery(e.currentTarget).parent("tbody");t.hasClass("show")||jQuery("tbody",a).removeClass("show table-active"),t.toggleClass("show table-active")}})})}},{key:"tableToolsCheckable",value:function(){var e=this;jQuery(".js-table-checkable:not(.js-table-checkable-enabled)").each(function(t,a){var o=jQuery(a);o.addClass("js-table-checkable-enabled"),jQuery("thead input:checkbox",o).on("click.pixelcave.helpers",function(t){var a=jQuery(t.currentTarget).prop("checked");jQuery("tbody input:checkbox",o).each(function(t,o){var n=jQuery(o);n.prop("checked",a).change(),e.tableToolscheckRow(n,a)})}),jQuery("tbody input:checkbox, tbody input + label",o).on("click.pixelcave.helpers",function(t){var a=jQuery(t.currentTarget);e.tableToolscheckRow(a,a.prop("checked"))}),jQuery("tbody > tr",o).on("click.pixelcave.helpers",function(t){if(!("checkbox"===t.target.type||"button"===t.target.type||"a"===t.target.tagName.toLowerCase()||jQuery(t.target).parent("a").length||jQuery(t.target).parent("button").length||jQuery(t.target).parent(".custom-control").length||jQuery(t.target).parent("label").length)){var a=jQuery("input:checkbox",t.currentTarget),o=a.prop("checked");a.prop("checked",!o).change(),e.tableToolscheckRow(a,!o)}})})}},{key:"tableToolscheckRow",value:function(e,t){t?e.closest("tr").addClass("table-active"):e.closest("tr").removeClass("table-active")}},{key:"magnific",value:function(){jQuery(".js-gallery:not(.js-gallery-enabled)").each(function(e,t){jQuery(t).addClass("js-gallery-enabled").magnificPopup({delegate:"a.img-lightbox",type:"image",gallery:{enabled:!0}})})}},{key:"summernote",value:function(){jQuery(".js-summernote-air:not(.js-summernote-air-enabled)").each(function(e,t){jQuery(t).addClass("js-summernote-air-enabled").summernote({airMode:!0,tooltip:!1})}),jQuery(".js-summernote:not(.js-summernote-enabled)").each(function(e,t){var a=jQuery(t);a.addClass("js-summernote-enabled").summernote({height:a.data("height")||350,minHeight:a.data("min-height")||null,maxHeight:a.data("max-height")||null})})}},{key:"ckeditor",value:function(){jQuery("#js-ckeditor-inline:not(.js-ckeditor-inline-enabled)").length&&(jQuery("#js-ckeditor-inline").attr("contenteditable","true"),CKEDITOR.inline("js-ckeditor-inline"),jQuery("#js-ckeditor-inline").addClass("js-ckeditor-inline-enabled")),jQuery("#js-ckeditor:not(.js-ckeditor-enabled)").length&&(CKEDITOR.replace("js-ckeditor"),jQuery("#js-ckeditor").addClass("js-ckeditor-enabled"))}},{key:"simpleMDE",value:function(){jQuery(".js-simplemde:not(.js-simplemde-enabled)").each(function(e,t){var a=jQuery(t);a.addClass("js-simplemde-enabled"),new SimpleMDE({element:a[0]})})}},{key:"slick",value:function(){jQuery(".js-slider:not(.js-slider-enabled)").each(function(e,t){var a=jQuery(t);a.addClass("js-slider-enabled").slick({arrows:a.data("arrows")||!1,dots:a.data("dots")||!1,slidesToShow:a.data("slides-to-show")||1,centerMode:a.data("center-mode")||!1,autoplay:a.data("autoplay")||!1,autoplaySpeed:a.data("autoplay-speed")||3e3,infinite:void 0===a.data("infinite")||a.data("infinite")})})}},{key:"datepicker",value:function(){jQuery(".js-datepicker:not(.js-datepicker-enabled)").add(".input-daterange:not(.js-datepicker-enabled)").each(function(e,t){var a=jQuery(t);a.addClass("js-datepicker-enabled").datepicker({weekStart:a.data("week-start")||0,autoclose:a.data("autoclose")||!1,todayHighlight:a.data("today-highlight")||!1,orientation:"bottom"})})}},{key:"colorpicker",value:function(){jQuery(".js-colorpicker:not(.js-colorpicker-enabled)").each(function(e,t){jQuery(t).addClass("js-colorpicker-enabled").colorpicker()})}},{key:"maskedInputs",value:function(){jQuery(".js-masked-date:not(.js-masked-enabled)").mask("99/99/9999"),jQuery(".js-masked-date-dash:not(.js-masked-enabled)").mask("99-99-9999"),jQuery(".js-masked-phone:not(.js-masked-enabled)").mask("(999) 999-9999"),jQuery(".js-masked-phone-ext:not(.js-masked-enabled)").mask("(999) 999-9999? x99999"),jQuery(".js-masked-taxid:not(.js-masked-enabled)").mask("99-9999999"),jQuery(".js-masked-ssn:not(.js-masked-enabled)").mask("999-99-9999"),jQuery(".js-masked-pkey:not(.js-masked-enabled)").mask("a*-999-a999"),jQuery(".js-masked-time:not(.js-masked-enabled)").mask("99:99"),jQuery(".js-masked-date").add(".js-masked-date-dash").add(".js-masked-phone").add(".js-masked-phone-ext").add(".js-masked-taxid").add(".js-masked-ssn").add(".js-masked-pkey").add(".js-masked-time").addClass("js-masked-enabled")}},{key:"select2",value:function(){jQuery(".js-select2:not(.js-select2-enabled)").each(function(e,t){var a=jQuery(t);a.addClass("js-select2-enabled").select2({placeholder:a.data("placeholder")||!1})})}},{key:"highlightjs",value:function(){hljs.isHighlighted||hljs.initHighlighting()}},{key:"notify",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};jQuery.isEmptyObject(e)?jQuery(".js-notify:not(.js-notify-enabled)").each(function(e,t){jQuery(t).addClass("js-notify-enabled").on("click.pixelcave.helpers",function(e){var t=jQuery(e.currentTarget);jQuery.notify({icon:t.data("icon")||"",message:t.data("message"),url:t.data("url")||""},{element:"body",type:t.data("type")||"info",placement:{from:t.data("from")||"top",align:t.data("align")||"right"},allow_dismiss:!0,newest_on_top:!0,showProgressbar:!1,offset:20,spacing:10,z_index:1033,delay:5e3,timer:1e3,animate:{enter:"animated fadeIn",exit:"animated fadeOutDown"}})})}):jQuery.notify({icon:e.icon||"",message:e.message,url:e.url||""},{element:e.element||"body",type:e.type||"info",placement:{from:e.from||"top",align:e.align||"right"},allow_dismiss:!1!==e.allow_dismiss,newest_on_top:!1!==e.newest_on_top,showProgressbar:!!e.show_progress_bar,offset:e.offset||20,spacing:e.spacing||10,z_index:e.z_index||1033,delay:e.delay||5e3,timer:e.timer||1e3,animate:{enter:e.animate_enter||"animated fadeIn",exit:e.animate_exit||"animated fadeOutDown"}})}},{key:"easyPieChart",value:function(){jQuery(".js-pie-chart:not(.js-pie-chart-enabled)").each(function(e,t){var a=jQuery(t);a.addClass("js-pie-chart-enabled").easyPieChart({barColor:a.data("bar-color")||"#777777",trackColor:a.data("track-color")||"#eeeeee",lineWidth:a.data("line-width")||3,size:a.data("size")||"80",animate:a.data("animate")||750,scaleColor:a.data("scale-color")||!1})})}},{key:"maxlength",value:function(){jQuery(".js-maxlength:not(.js-maxlength-enabled)").each(function(e,t){var a=jQuery(t);a.addClass("js-maxlength-enabled").maxlength({alwaysShow:!!a.data("always-show"),threshold:a.data("threshold")||10,warningClass:a.data("warning-class")||"badge badge-warning",limitReachedClass:a.data("limit-reached-class")||"badge badge-danger",placement:a.data("placement")||"bottom",preText:a.data("pre-text")||"",separator:a.data("separator")||"/",postText:a.data("post-text")||""})})}},{key:"rangeslider",value:function(){jQuery(".js-rangeslider:not(.js-rangeslider-enabled)").each(function(e,t){jQuery(t).addClass("js-rangeslider-enabled").ionRangeSlider({input_values_separator:";"})})}},{key:"sparkline",value:function(){var e=this;jQuery(".js-sparkline:not(.js-sparkline-enabled)").each(function(t,a){var o=jQuery(a),n=o.data("type"),l={},s={line:function(){l.type=n,l.lineWidth=o.data("line-width")||2,l.lineColor=o.data("line-color")||"#0665d0",l.fillColor=o.data("fill-color")||"#0665d0",l.spotColor=o.data("spot-color")||"#495057",l.minSpotColor=o.data("min-spot-color")||"#495057",l.maxSpotColor=o.data("max-spot-color")||"#495057",l.highlightSpotColor=o.data("highlight-spot-color")||"#495057",l.highlightLineColor=o.data("highlight-line-color")||"#495057",l.spotRadius=o.data("spot-radius")||2,l.tooltipFormat="{{prefix}}{{y}}{{suffix}}"},bar:function(){l.type=n,l.barWidth=o.data("bar-width")||8,l.barSpacing=o.data("bar-spacing")||6,l.barColor=o.data("bar-color")||"#0665d0",l.tooltipFormat="{{prefix}}{{value}}{{suffix}}"},pie:function(){l.type=n,l.sliceColors=["#ffb119","#8dc451","#3c90df","#e04f1a"],l.highlightLighten=o.data("highlight-lighten")||1.1,l.tooltipFormat="{{prefix}}{{value}}{{suffix}}"},tristate:function(){l.type=n,l.barWidth=o.data("bar-width")||8,l.barSpacing=o.data("bar-spacing")||6,l.posBarColor=o.data("pos-bar-color")||"#82b54b",l.negBarColor=o.data("neg-bar-color")||"#e04f1a"}};s[n]?(s[n](),"line"===n&&((o.data("chart-range-min")>=0||o.data("chart-range-min"))&&(l.chartRangeMin=o.data("chart-range-min")),(o.data("chart-range-max")>=0||o.data("chart-range-max"))&&(l.chartRangeMax=o.data("chart-range-max"))),l.width=o.data("width")||"120px",l.height=o.data("height")||"80px",l.tooltipPrefix=o.data("tooltip-prefix")?o.data("tooltip-prefix")+" ":"",l.tooltipSuffix=o.data("tooltip-suffix")?" "+o.data("tooltip-suffix"):"","100%"===l.width?r||(r=!0,jQuery(window).on("resize.pixelcave.helpers.sparkline",function(t){clearTimeout(i),i=setTimeout(function(){e.sparkline()},500)})):jQuery(a).addClass("js-sparkline-enabled"),jQuery(a).sparkline(o.data("points")||[0],l)):console.log("[jQuery Sparkline JS Helper] Please add a correct type (line, bar, pie or tristate) in all your elements with 'js-sparkline' class.")})}}]),e}();function d(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._uiInit()}return function(e,t,a){t&&d(e.prototype,t),a&&d(e,a)}(e,[{key:"_uiInit",value:function(){this._lHtml=jQuery("html"),this._lBody=jQuery("body"),this._lpageLoader=jQuery("#page-loader"),this._lPage=jQuery("#page-container"),this._lSidebar=jQuery("#sidebar"),this._lSideOverlay=jQuery("#side-overlay"),this._lHeader=jQuery("#page-header"),this._lHeaderSearch=jQuery("#page-header-search"),this._lHeaderSearchInput=jQuery("#page-header-search-input"),this._lHeaderLoader=jQuery("#page-header-loader"),this._lMain=jQuery("#main-container"),this._lFooter=jQuery("#page-footer"),this._lSidebarScroll=!1,this._lSideOverlayScroll=!1,this._windowW=n.getWidth(),this._uiHandleSidebars("init"),this._uiHandleHeader(),this._uiHandleNav(),this._uiHandleTheme(),this._uiApiLayout(),this._uiApiBlocks(),this.helpers(["core-bootstrap-tooltip","core-bootstrap-popover","core-bootstrap-tabs","core-bootstrap-custom-file-input","core-toggle-class","core-scroll-to","core-year-copy","core-appear","core-ripple"]),this._uiHandlePageLoader()}},{key:"_uiHandleSidebars",value:function(e){"init"===e?(this._lPage.addClass("side-trans-enabled"),this._uiHandleSidebars()):this._lPage.hasClass("side-scroll")?(this._lSidebar.length>0&&!this._lSidebarScroll&&(this._lSidebarScroll=new SimpleBar(this._lSidebar[0]),jQuery(".simplebar-scroll-content",this._lSidebar).scrollLock("enable")),this._lSideOverlay.length>0&&!this._lSideOverlayScroll&&(this._lSideOverlayScroll=new SimpleBar(this._lSideOverlay[0]),jQuery(".simplebar-scroll-content",this._lSideOverlay).scrollLock("enable"))):(this._lSidebar&&this._lSidebarScroll&&(jQuery(".simplebar-scroll-content",this._lSidebar).scrollLock("disable"),this._lSidebarScroll.unMount(),this._lSidebarScroll=null,this._lSidebar.removeAttr("data-simplebar").html(jQuery(".simplebar-content",this._lSidebar).html())),this._lSideOverlay&&this._lSideOverlayScroll&&(jQuery(".simplebar-scroll-content",this._lSideOverlay).scrollLock("disable"),this._lSideOverlayScroll.unMount(),this._lSideOverlayScroll=null,this._lSideOverlay.removeAttr("data-simplebar").html(jQuery(".simplebar-content",this._lSideOverlay).html())))}},{key:"_uiHandleHeader",value:function(){var e=this;jQuery(window).off("scroll.pixelcave.header"),e._lPage.hasClass("page-header-glass")&&e._lPage.hasClass("page-header-fixed")&&jQuery(window).on("scroll.pixelcave.header",function(t){jQuery(t.currentTarget).scrollTop()>60?e._lPage.addClass("page-header-scroll"):e._lPage.removeClass("page-header-scroll")}).trigger("scroll.pixelcave.header")}},{key:"_uiHandleNav",value:function(){this._lPage.off("click.pixelcave.menu"),this._lPage.on("click.pixelcave.menu",'[data-toggle="submenu"]',function(e){var t=jQuery(e.currentTarget),a=t.parent("li");return a.hasClass("open")?(a.removeClass("open"),t.attr("aria-expanded","false")):(t.closest("ul").children("li").removeClass("open"),a.addClass("open"),t.attr("aria-expanded","true")),t.blur(),!1})}},{key:"_uiHandlePageLoader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"hide",t=arguments.length>1?arguments[1]:void 0;"show"===e?this._lpageLoader.length?(t&&this._lpageLoader.removeClass().addClass(t),this._lpageLoader.addClass("show")):this._lBody.prepend('<div id="page-loader" class="show'.concat(t?" "+t:"",'"></div>')):"hide"===e&&this._lpageLoader.length&&this._lpageLoader.removeClass("show")}},{key:"_uiHandleTheme",value:function(){var e=jQuery("#css-theme"),t=!!this._lPage.hasClass("enable-cookies");if(t){var a=Cookies.get("dashmixThemeName")||!1;a&&n.updateTheme(e,a),e=jQuery("#css-theme")}jQuery('[data-toggle="theme"][data-theme="'+(e.length?e.attr("href"):"default")+'"]').addClass("active"),this._lPage.off("click.pixelcave.themes"),this._lPage.on("click.pixelcave.themes",'[data-toggle="theme"]',function(a){a.preventDefault();var o=jQuery(a.currentTarget),l=o.data("theme");jQuery('[data-toggle="theme"]').removeClass("active"),jQuery('[data-toggle="theme"][data-theme="'+l+'"]').addClass("active"),n.updateTheme(e,l),e=jQuery("#css-theme"),t&&Cookies.set("dashmixThemeName",l,{expires:7}),o.blur()})}},{key:"_uiApiLayout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"init",t=this;t._windowW=n.getWidth();var a={init:function(){t._lPage.off("click.pixelcave.layout"),t._lPage.off("click.pixelcave.overlay"),t._lPage.on("click.pixelcave.layout",'[data-toggle="layout"]',function(e){var a=jQuery(e.currentTarget);t._uiApiLayout(a.data("action")),a.blur()}),t._lPage.hasClass("enable-page-overlay")&&(t._lPage.prepend('<div id="page-overlay"></div>'),jQuery("#page-overlay").on("click.pixelcave.overlay",function(e){t._uiApiLayout("side_overlay_close")}))},sidebar_pos_toggle:function(){t._lPage.toggleClass("sidebar-r")},sidebar_pos_left:function(){t._lPage.removeClass("sidebar-r")},sidebar_pos_right:function(){t._lPage.addClass("sidebar-r")},sidebar_toggle:function(){t._windowW>991?t._lPage.toggleClass("sidebar-o"):t._lPage.toggleClass("sidebar-o-xs")},sidebar_open:function(){t._windowW>991?t._lPage.addClass("sidebar-o"):t._lPage.addClass("sidebar-o-xs")},sidebar_close:function(){t._windowW>991?t._lPage.removeClass("sidebar-o"):t._lPage.removeClass("sidebar-o-xs")},sidebar_mini_toggle:function(){t._windowW>991&&t._lPage.toggleClass("sidebar-mini")},sidebar_mini_on:function(){t._windowW>991&&t._lPage.addClass("sidebar-mini")},sidebar_mini_off:function(){t._windowW>991&&t._lPage.removeClass("sidebar-mini")},sidebar_style_toggle:function(){t._lPage.toggleClass("sidebar-dark")},sidebar_style_dark:function(){t._lPage.addClass("sidebar-dark")},sidebar_style_light:function(){t._lPage.removeClass("sidebar-dark")},side_overlay_toggle:function(){t._lPage.hasClass("side-overlay-o")?t._uiApiLayout("side_overlay_close"):t._uiApiLayout("side_overlay_open")},side_overlay_open:function(){jQuery(document).on("keydown.pixelcave.sideOverlay",function(e){27===e.which&&(e.preventDefault(),t._uiApiLayout("side_overlay_close"))}),t._lPage.addClass("side-overlay-o")},side_overlay_close:function(){jQuery(document).off("keydown.pixelcave.sideOverlay"),t._lPage.removeClass("side-overlay-o")},side_overlay_mode_hover_toggle:function(){t._lPage.toggleClass("side-overlay-hover")},side_overlay_mode_hover_on:function(){t._lPage.addClass("side-overlay-hover")},side_overlay_mode_hover_off:function(){t._lPage.removeClass("side-overlay-hover")},header_mode_toggle:function(){t._lPage.toggleClass("page-header-fixed"),t._uiHandleHeader()},header_mode_static:function(){t._lPage.removeClass("page-header-fixed"),t._uiHandleHeader()},header_mode_fixed:function(){t._lPage.addClass("page-header-fixed"),t._uiHandleHeader()},header_glass_toggle:function(){t._lPage.toggleClass("page-header-glass"),t._uiHandleHeader()},header_glass_on:function(){t._lPage.addClass("page-header-glass"),t._uiHandleHeader()},header_glass_off:function(){t._lPage.removeClass("page-header-glass"),t._uiHandleHeader()},header_style_toggle:function(){t._lPage.toggleClass("page-header-dark")},header_style_dark:function(){t._lPage.addClass("page-header-dark")},header_style_light:function(){t._lPage.removeClass("page-header-dark")},header_search_on:function(){t._lHeaderSearch.addClass("show"),t._lHeaderSearchInput.focus(),jQuery(document).on("keydown.pixelcave.header.search",function(e){27===e.which&&(e.preventDefault(),t._uiApiLayout("header_search_off"))})},header_search_off:function(){t._lHeaderSearch.removeClass("show"),t._lHeaderSearchInput.blur(),jQuery(document).off("keydown.pixelcave.header.search")},header_loader_on:function(){t._lHeaderLoader.addClass("show")},header_loader_off:function(){t._lHeaderLoader.removeClass("show")},footer_mode_toggle:function(){t._lPage.toggleClass("page-footer-fixed")},footer_mode_static:function(){t._lPage.removeClass("page-footer-fixed")},footer_mode_fixed:function(){t._lPage.addClass("page-footer-fixed")},side_scroll_toggle:function(){t._lPage.toggleClass("side-scroll"),t._uiHandleSidebars()},side_scroll_native:function(){t._lPage.removeClass("side-scroll"),t._uiHandleSidebars()},side_scroll_custom:function(){t._lPage.addClass("side-scroll"),t._uiHandleSidebars()},content_layout_toggle:function(){t._lPage.hasClass("main-content-boxed")?t._uiApiLayout("content_layout_narrow"):t._lPage.hasClass("main-content-narrow")?t._uiApiLayout("content_layout_full_width"):t._uiApiLayout("content_layout_boxed")},content_layout_boxed:function(){t._lPage.removeClass("main-content-narrow").addClass("main-content-boxed")},content_layout_narrow:function(){t._lPage.removeClass("main-content-boxed").addClass("main-content-narrow")},content_layout_full_width:function(){t._lPage.removeClass("main-content-boxed main-content-narrow")}};a[e]&&a[e]()}},{key:"_uiApiBlocks",value:function(){var e,t,a,o=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"init",l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this,r="si si-size-fullscreen",s={init:function(){jQuery('[data-toggle="block-option"][data-action="fullscreen_toggle"]').each(function(e,t){var a=jQuery(t);a.html('<i class="'+(jQuery(a).closest(".block").hasClass("block-mode-fullscreen")?"si si-size-actual":r)+'"></i>')}),jQuery('[data-toggle="block-option"][data-action="content_toggle"]').each(function(e,t){var a=jQuery(t);a.html('<i class="'+(a.closest(".block").hasClass("block-mode-hidden")?"si si-arrow-down":"si si-arrow-up")+'"></i>')}),i._lPage.off("click.pixelcave.blocks"),i._lPage.on("click.pixelcave.blocks",'[data-toggle="block-option"]',function(e){o._uiApiBlocks(jQuery(e.currentTarget).data("action"),jQuery(e.currentTarget).closest(".block"))})},fullscreen_toggle:function(){e.removeClass("block-mode-pinned").toggleClass("block-mode-fullscreen"),e.hasClass("block-mode-fullscreen")?jQuery(e).scrollLock("enable"):jQuery(e).scrollLock("disable"),t.length&&(e.hasClass("block-mode-fullscreen")?jQuery("i",t).removeClass(r).addClass("si si-size-actual"):jQuery("i",t).removeClass("si si-size-actual").addClass(r))},fullscreen_on:function(){e.removeClass("block-mode-pinned").addClass("block-mode-fullscreen"),jQuery(e).scrollLock("enable"),t.length&&jQuery("i",t).removeClass(r).addClass("si si-size-actual")},fullscreen_off:function(){e.removeClass("block-mode-fullscreen"),jQuery(e).scrollLock("disable"),t.length&&jQuery("i",t).removeClass("si si-size-actual").addClass(r)},content_toggle:function(){e.toggleClass("block-mode-hidden"),a.length&&(e.hasClass("block-mode-hidden")?jQuery("i",a).removeClass("si si-arrow-up").addClass("si si-arrow-down"):jQuery("i",a).removeClass("si si-arrow-down").addClass("si si-arrow-up"))},content_hide:function(){e.addClass("block-mode-hidden"),a.length&&jQuery("i",a).removeClass("si si-arrow-up").addClass("si si-arrow-down")},content_show:function(){e.removeClass("block-mode-hidden"),a.length&&jQuery("i",a).removeClass("si si-arrow-down").addClass("si si-arrow-up")},state_toggle:function(){e.toggleClass("block-mode-loading"),jQuery('[data-toggle="block-option"][data-action="state_toggle"][data-action-mode="demo"]',e).length&&setTimeout(function(){e.removeClass("block-mode-loading")},2e3)},state_loading:function(){e.addClass("block-mode-loading")},state_normal:function(){e.removeClass("block-mode-loading")},pinned_toggle:function(){e.removeClass("block-mode-fullscreen").toggleClass("block-mode-pinned")},pinned_on:function(){e.removeClass("block-mode-fullscreen").addClass("block-mode-pinned")},pinned_off:function(){e.removeClass("block-mode-pinned")},close:function(){e.addClass("d-none")},open:function(){e.removeClass("d-none")}};"init"===n?s[n]():(e=l instanceof jQuery?l:jQuery(l)).length&&(t=jQuery('[data-toggle="block-option"][data-action="fullscreen_toggle"]',e),a=jQuery('[data-toggle="block-option"][data-action="content_toggle"]',e),s[n]&&s[n]())}},{key:"init",value:function(){this._uiInit()}},{key:"layout",value:function(e){this._uiApiLayout(e)}},{key:"block",value:function(e,t){this._uiApiBlocks(e,t)}},{key:"loader",value:function(e,t){this._uiHandlePageLoader(e,t)}},{key:"helpers",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s.run(e,t)}}]),e}();function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}a.d(t,"default",function(){return f});var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,h(t).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,c),t}();jQuery(function(){function e(){$(".editor").length&&l(".editor","formatselect | styleselect | bold italic | subscript superscript | bullist numlist outdent indent | link unlink | alignleft aligncenter alignright alignjustify | table | nonbreaking | image | code | removeformat | media | template",300),$(".editor--small").length&&l(".editor--small","formatselect | styleselect | bold italic | subscript superscript | bullist numlist outdent indent | link unlink | nonbreaking | code | removeformat | media | template ",200),$(".editor--small--nowrap").length&&l(".editor--small--nowrap","formatselect | styleselect | bold italic | subscript superscript | bullist numlist outdent indent | link unlink | nonbreaking | code | removeformat | media | template ",200,!1),$(".editor--tiny").length&&l(".editor--tiny"," code | removeformat",20),$(".chosen_links").length&&$(".chosen_links").chosen(),$(".datepicker").length&&$(".datepicker").datepicker({dateFormat:"dd-mm-yy"}),$(".image-preview").popover({trigger:"hover",html:!0,title:"<strong>Preview</strong>",content:"There's no image",placement:"bottom"})}var t;window.Dashmix=new f,e();var a=$("#myModal");function o(){$(".hoverimg").hide(),$("#posts.sortable tr").mouseover(function(){$(this).find(".hoverimg").show()}),$("#posts.sortable tr").mouseout(function(){$(this).find(".hoverimg").hide()}),$("#posts.sortable tbody").length&&$("#posts.sortable tbody").sortable({axis:"y",placeholder:"ui-state-highlight",stop:function(e,t){var a=t.item.data("id"),o=window.module_type,n=$(t.item).parent().children().index(t.item);$.ajax({type:"POST",url:window.base_url+"/icontrol/items/"+o+"/sortitems",dataType:"text",data:{id:a,index:n},success:function(e){if("OK"==e)for(var t=0;t<$("#posts tr").length;t++)$("#posts tr").eq(t).find(".row-index").html(t+1)},error:function(e){console.log(e)}})}}),$("#posts").length&&$("#posts").disableSelection(),$("#blocks").length&&$("#blocks").sortable({placeholder:"ui-state-highlight",helper:"clone"})}function n(){$("input[type=checkbox]").each(function(){this.name.indexOf("_enabled")>0&&$('input[name="prop['+this.name.replace("_enabled","")+']"]').prop("disabled",!this.checked)})}function l(e,t,a,o){tinymce.init({element_format:"html",selector:e,fix_list_elements:!0,height:a,menubar:!1,statusbar:!1,entity_encoding:"raw",plugins:"paste,table,nonbreaking,link,code,image,contextmenu,media,template",templates:[{title:"Add article more",content:"<br/>##more##<br/>"},{title:"Add contest block",content:"<br/>##contest##<br/>"}],contextmenu:"link image inserttable | cell row column deletetable",paste_as_text:!0,relative_urls:!1,forced_root_block:void 0===o?"p":"",skin_url:window.base_url+"/admin/components/tinymce/skins/typicms",inline_styles:!0,extended_valid_elements:"iframe[src|frameborder|style|scrolling|class|width|height|name|align], iframe",image_class_list:[{title:"None",value:""},{title:"Left",value:"left"},{title:"Right",value:"right"}],file_browser_callback:function(e,t,a,o){tinymce.activeEditor.windowManager.open({title:"Choose image",url:window.base_url+"/icontrol/files/image/popupmanager/"+window.module_type+"/noinput/novalue",width:835,height:550},{oninsert:function(t){fieldElm=o.document.getElementById(e),fieldElm.value=t}})},block_formats:"Paragraph=p;Code=pre;Blockquote=blockquote;Header 1=h1;Header 2=h2;Header 3=h3;Header 4=h4;Header 5=h5;Header 6=h6",style_formats:[{title:"Small text",inline:"small"},{title:"Image Left",selector:"img",styles:{float:"left",margin:"0 20px 20px 0"}},{title:"Image Right",selector:"img",styles:{float:"right",margin:"0 0 20px 20px"}},{title:"File (link)",selector:"a",classes:"file"},{title:"Button (link)",selector:"a",classes:"btn btn-default"}],content_css:[window.base_url+"/admin/components/tinymce/css/tiny_mce.css"],toolbar:t,language_url:window.base_url+"/admin/components/tinymce/langs/en.js"})}function i(){return"true"!=$("#input_changes").val()||confirm("This action will undo the changes you made. Please save a draft first if you want to keep your changes. Continue?")}$("body").on("click",".link-add-button",function(e){e.preventDefault();var o=window.default_lang;t=$(this).attr("data-linked-module-type"),console.log("modal_linked_module_type :"+t);var n=$(this).attr("data-item-id");n||(n=null),$.ajax({type:"GET",url:window.base_url+"/icontrol/items/custom_view/"+module_type+"/get/"+o+"/links/"+n+"/"+t,success:function(e){$("#myModal .load_modal").html(e),a.modal(),a.on("shown.bs.modal",function(){$("#selected-"+t).find("input:checkbox:checked").each(function(){console.log(t),console.log("input-"+this.id),document.getElementById("input-"+this.id).checked=!0})}),$("#myModal").on("click","input:checkbox",function(){link_id=$(this).attr("data-link-id"),console.log(),this.checked?($("#li-"+link_id).css("display",""),$("#"+link_id).attr("checked","checked")):(document.getElementById(link_id).removeAttribute("checked"),$("#li-"+link_id).css("display","none"))}),a.on("hidden.bs.modal",function(){$("#myModal .load_modal").data("")})},error:function(e){console.log("GET failed"),console.log(e)}})}),$("body").on("click",".create-link-button",function(e){$(this).hide();var t=window.default_lang,o=$(this).attr("data-linked-module-type");o&&$.ajax({type:"GET",url:window.base_url+"/icontrol/items/custom_view/"+o+"/get/"+t+"/form",success:function(e){$("#myModal .modal-body").append(e),a.on("hidden.bs.modal",function(){$("#myModal .modal-body").data("")})},error:function(e){console.log(e)}})}),$("body .modal").on("submit","form",function(e){e.preventDefault(),console.log(this);var t=window.default_lang,a=$(this).attr("data-module-type");console.log(a),a&&$.ajax({type:"POST",url:window.base_url+"/icontrol/items/"+a+"/post/"+t,data:$(this).serialize(),success:function(e){if(console.log("post recieved"),console.log("response: "),console.log(e),e.valid){$("#myModal .create-link-button").show(),$("#myModal form").remove(),$("#myModal .alert").remove(),(c=$("<div>",{class:"alert alert-success"})).html(e.flash),$("#myModal .modal-body").prepend(c);var t=$("#selected-"+e.module_type),o=$("<li>",{id:"li-link-"+e.id,class:"label label-primary"});o.html(e.description+" ");var n=$("<input>",{id:"link-"+e.id,type:"hidden",name:"linked_items_"+a+"["+e.id+"]",value:e.id,checked:!0,class:"hide"}),l=$("<div>",{class:"remove-link",style:"display: inline-block"}),i=$("<i>",{class:"fa fa-times-circle","aria-hidden":"true"});l.append(i),o.append(n),o.append(l),t.append(o);var r=$("<li>"),s=$("<input>",{id:"input-link-"+e.id,type:"checkbox","data-link-id":"link-"+e.id,checked:!0}),d=$("<label>",{for:"input-link-"+e.id,text:e.description});r.append(s,d),$(".modal .chosen_links").append(r)}else for(prop in $("#myModal .alert").remove(),e){var c;(c=$("<div>",{class:"alert alert-danger"})).html(e[prop]),$("#myModal .controls.draft_content").prepend(c)}},error:function(e){console.log("post failed"),console.log(e)}})}),$("body .selected-links").on("click",".remove-link",function(e){$(this).siblings("input").prop("checked",!1),$(this).parent("li").css("display","none"),console.log($(this).siblings("input"))}),$(document).on("change",".overview .links",function(e){var t=$(this).val(),a=window.module_type;$.ajax({type:"POST",url:window.base_url+"/icontrol/items/"+a+"/overviewdata",dataType:"text",data:{cat:t},success:function(e){"NOK"!=e&&($("#posts").replaceWith(e),o())},error:function(e){console.log(e)}})}),$(document).on("click","#posts .publish",function(e){var t=$(this).attr("data-id"),a=$(this).attr("data-publish"),o=window.module_type;$.ajax({type:"POST",url:window.base_url+"/icontrol/items/"+o+"/publish",dataType:"text",data:{id:t,status:a},success:function(e){"OK"==e&&$("#posts .publish[data-id='"+t+"']").toggle()},error:function(e){console.log(e)}})}),$(document).on("click","#posts .delete",function(e){var t=$(this).attr("data-id"),a=$(this).attr("data-title"),o=window.module_type;confirm("You are about to remove: "+a)&&(console.log(window.base_url+"/icontrol/items/"+o+"/delete"),console.log(),$.ajax({type:"POST",url:window.base_url+"/icontrol/items/"+o+"/delete",dataType:"text",data:{id:t},success:function(e){"OK"==e&&$("#posts .delete[data-id='"+t+"']").closest("tr").remove()},error:function(e){console.log(e)}}))}),o(),n(),$(document).on("change","input[type=checkbox]",function(e){n()}),$(document).on("blur","form #my_content\\[seo_title\\]",function(e){var t=$(this).val(),a=$(this);$.ajax({type:"POST",url:window.base_url+"/icontrol/geturlfriendlytext",data:{text:t},success:function(e){a.closest("form").find(".slug").val(e)},error:function(e){console.log(e)}})}),$(document).on("click","#show_draft",function(e){e.preventDefault(),$(".draft_content").show(),$("#show_draft").addClass("active"),$(".online_content").hide(),$("#show_online").removeClass("active")}),$(document).on("click","#show_online",function(e){e.preventDefault(),$(".draft_content").hide(),$("#show_draft").removeClass("active"),$(".online_content").show(),$("#show_online").addClass("active")}),$(document).on("click",".lang_content",function(e){return i()}),$(document).on("click","#overview",function(e){return i()}),$(document).on("change",":input",function(e){$("#input_changes").val("true")}),$(document).on("change","#filelist :checkbox",function(e){var t=$(this).is(":checked"),a=$(this).attr("data-id"),o=$(this).attr("value");$.ajax({type:"POST",url:window.base_url+"/icontrol/files/file_assign_cat",dataType:"text",data:{id:a,module:o,status:t},success:function(e){},error:function(e){console.log(e)}})}),$(document).on("click","#filelist .remove_image",function(e){e.preventDefault();var t=$(this).attr("data-id"),a=$("#myDropzone").attr("data-mode"),o=$("#myDropzone").attr("data-manager-type"),n=$("#myDropzone").attr("data-input"),l=window.module_type;$.ajax({type:"POST",url:window.base_url+"/icontrol/files/remove",dataType:"json",data:{id:t},success:function(e){$.ajax({type:"GET",url:window.base_url+"/icontrol/files/"+o+"/getlist/"+a+("manager"!=a?"/"+n+"/"+l:""),data:{image_id:1}}).done(function(e){$("#filelist").html(e)})},error:function(e){console.log(e)}})}),$(document).on("click","#filelist .purge",function(e){e.preventDefault();var t=$("#myDropzone").attr("data-mode"),a=$("#myDropzone").attr("data-input"),o=$("#myDropzone").attr("data-manager-type"),n=window.module_type;$.ajax({type:"POST",url:window.base_url+"/icontrol/files/"+o+"/purge",dataType:"json",data:{},success:function(e){$.ajax({type:"GET",url:window.base_url+"/icontrol/files/"+o+"/getlist/"+t+("manager"!=t?"/"+a+"/"+n:""),data:{image_id:1}}).done(function(e){$("#filelist").html(e)})},error:function(e){console.log(e)}})});var r=$("#myDropzone").attr("data-accepted-files"),s=$("#myDropzone").attr("data-max-filesize");function d(e){$(e+" .image-preview").attr("data-content","").popover("hide"),$(e+" .image-preview-filename").val(""),$(e+" .image-preview-clear").hide(),$(e+" .image-preview-input input:file").val(""),$(e+" .image-preview-input-title").text("Browse")}$("#myDropzone").length&&(Dropzone.options.myDropzone={paramName:"file",maxFilesize:s,acceptedFiles:r,createImageThumbnails:!0,init:function(){this.on("thumbnail",function(e){var t=$("#myDropzone").attr("data-width"),a=$("#myDropzone").attr("data-height");(""!=t&&null!=t||""!=a&&null!=a)&&(e.width<t||e.height<a)?e.rejectDimensions():e.acceptDimensions()}),this.on("queuecomplete",function(){var e=$("#myDropzone").attr("data-mode"),t=$("#myDropzone").attr("data-input"),a=$("#myDropzone").attr("data-manager-type"),o=$("#myDropzone").attr("data-input-type"),n=$("#myDropzone").attr("data-module"),l=window.base_url+"/icontrol/files/"+a+"/getlist/";this.removeAllFiles(),$.ajax({type:"GET",url:l+e+("manager"!=e?"/"+t+"/"+n+"/"+o:""),data:{}}).done(function(e){$("#filelist").html(e)})})},accept:function(e,t){if("file"==$("#myDropzone").attr("data-manager-type"))return t();e.acceptDimensions=t,e.rejectDimensions=function(){t("Invalid dimension."),alert("Upload "+e.name+" is too small. This file will be skipped.")}}}),$(document).on("click",".showmanager",function(){var e=window.module_type,t=$(this).attr("data-input"),o=$(this).attr("data-manager-type"),n=$(this).attr("data-type"),l=""!==$("#"+t).val()?$("#"+t).val():"novalue",i=window.base_url+"/icontrol/files/"+o+"/manager/"+e,r="all";null!=n&&""!=n&&(r=n),i=i+"/"+r+"/"+t+"/"+l,$.get(i,function(e){$("#myModal .load_modal").html(e),$("#myDropzone").dropzone({url:$("#myDropzone").attr("action")}),a.modal(),a.on("hidden.bs.modal",function(){$("#myModal .modal-body").data("")})})}),$(document).on("click","#filelist .select_image",function(e){e.preventDefault();var t=$(this).attr("data-input"),o=$(this).attr("data-manager-type");if("popup"==$("#myDropzone").attr("data-mode")&&"noinput"==t){path=window.base_url+"/uploads/"+o+"/"+$(this).attr("data-file");var n=top.tinymce.activeEditor.windowManager;n.getParams().oninsert(path),n.close()}$("#"+t).val($(this).attr("data-id")),$("#file_"+t).attr("href",window.base_url+"/uploads/"+o+"/"+$(this).attr("data-file")).html($(this).attr("data-file")).show();var l=$(this).attr("data-file"),i=".cnt_"+t;"image"==o?$.ajax({type:"GET",url:window.base_url+"/icontrol/files/getimagecontainer/"+$(this).attr("data-id")+"/"+$("#myDropzone").attr("data-input-type"),data:{}}).done(function(e){$(i+" .image-preview-input-title").text("Change"),$(i+" .image-preview-clear").show(),$(i+" .image-preview-filename").val(l),$(i+" .image-preview").attr("data-content",e).popover("show")}):$(i+" .image-preview-filename").val(l);window.module_type,""!==$("#"+t).val()&&$("#"+t).val();a.modal("hide")}),$(document).on("click","#filelist .detach_image",function(e){e.preventDefault();var t=$(this).attr("data-input"),o=window.module_type,n=$(this).attr("data-manager-type");$("#"+t).val(""),d("cnt"+t),$.get(window.base_url+"/icontrol/files/"+n+"/manager/"+o+"/"+t+"/novalue",function(e){a.modal(),a.on("shown.bs.modal",function(){$("#myModal .load_modal").html(e)}),a.on("hidden.bs.modal",function(){$("#myModal .modal-body").data("")})})}),$("#ddl_add_block").change(function(e){var t=$("#ddl_add_block").val(),a=$("#blocks div[data-type="+t+"]").length,o=$(this).find(":selected").attr("data-amount");o&&a>=o?$("#btn_add_block").prop("disabled",!0):$("#btn_add_block").prop("disabled",!1)}),$(document).on("click","#btn_add_block",function(t){t.preventDefault();var a=$("#ddl_add_block").val(),o=window.module_type,n=$(this).attr("data-id"),l=$(this).attr("data-lang"),i=$(this).attr("data-action"),r=$("#blocks div[data-type="+a+"]").length,s=$(this).attr("data-version");console.log(r),$.ajax({type:"POST",url:window.base_url+"/icontrol/items/"+o+"/renderblock",data:{type:a,module_type:o,lang:l,id:n,action:i,count:r,version:s},success:function(t){var o=$("#blocks div[data-type="+a+"]").length;$("#blocks").append(t),$("#block_"+a+"_"+o).scrollTo(),e()},error:function(e){console.log(e)}})}),$.fn.scrollTo=function(e){void 0===e&&(e=1e3),$("html, body").animate({scrollTop:parseInt($(this).offset().top)},e)},$(document).on("click",".close-preview",function(){$(".image-preview").popover("hide"),$(".image-preview").hover(function(){$(".image-preview").popover("show")},function(){$(".image-preview").popover("hide")})}),$(document).on("click",".image-preview-clear",function(){var e=$(this).attr("data-input");d(".cnt_"+e),$("#"+e).val("")}),$(document).on("click",".delete_block",function(){if(confirm("Do you want to delete this block? Save this item to confirm removal of this block.")){$(this).closest(".blockcontent_block").remove();var e=[];(e=$(".blockcontent_block").map(function(){return value=$(this).attr("data-type"),e.hasOwnProperty(value)?null:(e[value]=!0,value)}).get()).forEach(function(e){$(".blockcontent_block[data-type="+e+"]").each(function(t,a){console.log(t),$(a).attr("id","block_"+e+"_"+t),$(a).find("input, select").each(function(a,o){if(void 0!=$(o).attr("name")){var n="block_content["+e+"_"+t+"]";console.log($(o).attr("name")),$(o).attr("name",n+$(o).attr("name").substring($(o).attr("name").indexOf("]")+1))}})})})}}),$(document).on("click",".multiple_control_add",function(){var e=$(this).closest(".multiple_container").find(".form-group:visible").length;$(this).closest(".multiple_container").find(".form-group:eq("+e+")").show(),e>=$(this).attr("data-amount")&&$(this).hide()}),$(document).on("click",".js-translation-tabs",function(e){e.preventDefault();var t=$(this).attr("href");$.ajax({url:t,type:"GET",success:function(e){$(".js-translation-content-tab").html(e.html)}})})})}]);